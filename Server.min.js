const mongoose=require("mongoose"),express=require("express"),cors=require("cors"),productRouter=require("./routes/products"),app=express();app.use(cors()),app.use(express.json()),mongoose.connect("mongodb://localhost:27017/ecommerce",{useNewUrlParser:!0,useUnifiedTopology:!0}).then((()=>{console.log("MongoDB connected")})).catch((err=>{console.error("MongoDB connection error:",err)})),app.use("/api/products",productRouter);const PORT=process.env.PORT||5e3;app.listen(PORT,(()=>{console.log("Server running on port ${PORT}")}));